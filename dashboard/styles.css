/* styles.css — polished MMM dashboard layout (desktop grid + mobile stacking) */

:root {
  --bg: #0b0d12;
  --panel: rgba(255, 255, 255, 0.06);
  --panel-2: rgba(255, 255, 255, 0.08);
  --text: rgba(255, 255, 255, 0.90);
  --muted: rgba(255, 255, 255, 0.68);
  --border: rgba(255, 255, 255, 0.12);
  --shadow: 0 16px 60px rgba(0, 0, 0, 0.55);
  --good: rgba(95, 255, 170, 0.25);
  --bad: rgba(255, 95, 130, 0.25);
  --focus: rgba(255, 255, 255, 0.18);
  --primary: rgba(0, 255, 170, 0.95);
  --secondary: rgba(120, 80, 255, 0.95);

  --radius: 18px;
  --radius-sm: 14px;
  --max: 1280px;
}

* { box-sizing: border-box; }
html, body { height: 100%; }

body {
  margin: 0;
  background:
    radial-gradient(1200px 800px at 15% 10%, rgba(120, 80, 255, 0.22), transparent 55%),
    radial-gradient(900px 700px at 85% 20%, rgba(0, 255, 170, 0.12), transparent 60%),
    var(--bg);
  color: var(--text);
  font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  line-height: 1.55;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.bg-grid {
  position: fixed;
  inset: 0;
  pointer-events: none;
  background-image:
    linear-gradient(to right, rgba(255,255,255,0.05) 1px, transparent 1px),
    linear-gradient(to bottom, rgba(255,255,255,0.05) 1px, transparent 1px);
  background-size: 56px 56px;
  mask-image: radial-gradient(circle at 50% 0%, rgba(0,0,0,0.85), transparent 70%);
  opacity: 0.25;
  z-index: -1;
}

.container {
  width: min(var(--max), calc(100% - 48px));
  margin: 0 auto;
}

/* Topbar */
.topbar {
  position: sticky;
  top: 0;
  z-index: 50;
  backdrop-filter: blur(14px);
  background: rgba(10, 12, 18, 0.6);
  border-bottom: 1px solid rgba(255,255,255,0.08);
}

.topbar__inner {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 14px 0;
  gap: 16px;
}

.brand {
  display: flex;
  align-items: center;
  gap: 12px;
  min-width: 240px;
}

.brand__mark {
  width: 44px;
  height: 44px;
  border-radius: 12px;
  display: grid;
  place-items: center;
  font-weight: 800;
  letter-spacing: 0.8px;
  background: linear-gradient(135deg, rgba(255,255,255,0.16), rgba(255,255,255,0.06));
  border: 1px solid rgba(255,255,255,0.14);
  flex-shrink: 0;
}

.brand__title {
  font-weight: 800;
  font-size: 14px;
  letter-spacing: -0.02em;
}

.brand__subtitle {
  color: var(--muted);
  font-size: 12px;
}

.topbar__actions {
  display: flex;
  align-items: center;
  gap: 10px;
}

/* Buttons */
.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
  padding: 11px 16px;
  border-radius: 14px;
  text-decoration: none;
  font-weight: 700;
  font-size: 13px;
  border: 1px solid rgba(255,255,255,0.14);
  transition: all 140ms ease;
  cursor: pointer;
  min-height: 40px;
  background: rgba(255,255,255,0.04);
  color: rgba(255,255,255,0.86);
}

.btn:active { transform: translateY(1px); }
.btn:focus-visible { outline: 2px solid var(--focus); outline-offset: 2px; }

.btn--primary {
  background: rgba(255,255,255,0.12);
  color: var(--text);
}
.btn--primary:hover {
  background: rgba(255,255,255,0.16);
  border-color: rgba(255,255,255,0.20);
}

.btn--secondary {
  background: rgba(120, 80, 255, 0.12);
  color: rgba(255, 255, 255, 0.95);
  border-color: rgba(120, 80, 255, 0.25);
}
.btn--secondary:hover {
  background: rgba(120, 80, 255, 0.18);
  border-color: rgba(120, 80, 255, 0.35);
}

.btn--ghost {
  background: rgba(255,255,255,0.04);
  color: rgba(255,255,255,0.82);
}
.btn--ghost:hover {
  background: rgba(255,255,255,0.08);
  border-color: rgba(255,255,255,0.18);
}

.btn--block { width: 100%; }
.btn:disabled { opacity: 0.55; cursor: not-allowed; }

.btn--xs {
  padding: 8px 10px;
  border-radius: 12px;
  min-height: 32px;
  font-size: 12px;
}

/* Links + mono */
.link { color: var(--primary); text-decoration: none; }
.link:hover { text-decoration: underline; }
.mono { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; }
.muted { color: var(--muted); }
.small { font-size: 12px; }

/* Meta bar */
.meta { padding: 16px 0 10px; }
.meta-row {
  display: flex;
  flex-wrap: wrap;
  gap: 12px 14px;
  align-items: center;
  background: rgba(255,255,255,0.04);
  border: 1px solid rgba(255,255,255,0.10);
  border-radius: var(--radius);
  padding: 12px 14px;
}
.meta-item {
  display: inline-flex;
  gap: 8px;
  align-items: center;
  font-size: 12px;
  color: rgba(255,255,255,0.85);
}

/* Core card styles */
.card {
  background: rgba(255,255,255,0.05);
  border: 1px solid rgba(255,255,255,0.10);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  padding: 16px;
  backdrop-filter: blur(16px);
  min-width: 0; /* IMPORTANT: prevents overflow in grid */
}

.section-title h2 {
  margin: 0;
  font-size: 14px;
  font-weight: 900;
  letter-spacing: -0.02em;
  color: rgba(255,255,255,0.92);
}

/* KPI cards */
.stat__label { color: rgba(255,255,255,0.65); font-size: 12px; margin-bottom: 6px; }
.stat__value { font-weight: 900; font-size: 14px; letter-spacing: -0.01em; }
.stat__meta  { color: rgba(255,255,255,0.60); font-size: 12px; margin-top: 6px; }

/* Dashboard grid: EXACT placement */
.dashboard-grid {
  display: grid;
  gap: 16px;
  padding-bottom: 18px;

  /* 12-col grid with areas (desktop/tablet) */
  grid-template-columns: repeat(12, minmax(0, 1fr));
  grid-template-areas:
    "kpi1 kpi1 kpi1 kpi2 kpi2 kpi2 kpi3 kpi3 kpi3 kpi4 kpi4 kpi4"
    "pool1 pool1 pool1 pool2 pool2 pool2 image image image image image image"
    "wallet wallet wallet wallet wallet wallet image image image image image image"
    "swap  swap  swap  send  send  send  .     .     .     .     .     ."
    "hist  hist  hist  hist  hist  hist  hist  hist  hist  hist  hist  hist";
}

.kpi1 { grid-area: kpi1; }
.kpi2 { grid-area: kpi2; }
.kpi3 { grid-area: kpi3; }
.kpi4 { grid-area: kpi4; }

.pool1 { grid-area: pool1; }
.pool2 { grid-area: pool2; }
.image { grid-area: image; }

.walletArea { grid-area: wallet; }
.swapArea { grid-area: swap; }
.sendArea { grid-area: send; }
.historyArea { grid-area: hist; }

/* Pool cards */
.big {
  margin-top: 10px;
  font-size: 18px;
  font-weight: 900;
  letter-spacing: -0.02em;
  color: rgba(95, 255, 170, 0.95);
}
.big.secondary { color: rgba(120, 80, 255, 0.95); }

/* Image card (spans rows 2-3 automatically via grid area repetition) */
.imageWrap {
  height: 100%;
  min-height: 420px;
  display: grid;
  place-items: center;
  border-radius: calc(var(--radius) - 6px);
  overflow: hidden;
  background: rgba(0,0,0,0.20);
  border: 1px solid rgba(255,255,255,0.10);
}
.imageWrap img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}

/* Wallet card */
.walletHead {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: 12px;
}

.walletTitle {
  display: flex;
  gap: 12px;
  align-items: center;
}
.walletIcon {
  width: 46px;
  height: 46px;
  border-radius: 14px;
  display: grid;
  place-items: center;
  border: 1px solid rgba(255,255,255,0.12);
  background: rgba(255,255,255,0.05);
}
.h2like {
  font-size: 16px;
  font-weight: 900;
  letter-spacing: -0.02em;
}

.pill {
  display: inline-flex;
  padding: 6px 10px;
  border-radius: 999px;
  font-size: 12px;
  font-weight: 800;
  background: rgba(255,255,255,0.06);
  border: 1px solid rgba(255,255,255,0.10);
  color: rgba(255,255,255,0.82);
}
.pill--ok {
  background: rgba(0,255,170,0.10);
  border-color: rgba(0,255,170,0.22);
  color: rgba(0,255,170,0.95);
}

.walletGrid {
  margin-top: 14px;
  display: grid;
  gap: 10px;
}
.metricRow {
  display: flex;
  justify-content: space-between;
  gap: 10px;
  padding: 10px 12px;
  border-radius: var(--radius-sm);
  background: rgba(255,255,255,0.04);
  border: 1px solid rgba(255,255,255,0.10);
}
.walletActions { margin-top: 14px; }

/* Forms */
.label {
  display: block;
  font-size: 12px;
  color: rgba(255,255,255,0.72);
  font-weight: 700;
  margin-bottom: 8px;
}
.field {
  width: 100%;
  padding: 12px 12px;
  border-radius: 14px;
  background: rgba(10,12,18,0.55);
  border: 1px solid rgba(255,255,255,0.14);
  color: rgba(255,255,255,0.92);
  outline: none;
}
.field:focus { border-color: rgba(255,255,255,0.22); box-shadow: 0 0 0 3px rgba(255,255,255,0.08); }

.panel {
  background: rgba(255,255,255,0.04);
  border: 1px solid rgba(255,255,255,0.10);
  border-radius: var(--radius-sm);
  padding: 12px;
}

.btn-row {
  display: grid;
  grid-template-columns: 1fr;
  gap: 10px;
}

.status {
  margin-top: 12px;
  padding: 10px 12px;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,0.14);
  background: rgba(255,255,255,0.04);
  color: rgba(255,255,255,0.88);
  font-size: 12px;
}
.status--ok {
  border-color: rgba(0,255,170,0.22);
  background: rgba(0,255,170,0.08);
}
.status--bad {
  border-color: rgba(255,95,130,0.22);
  background: rgba(255,95,130,0.08);
}
.hidden { display: none !important; }

/* Table */
.table-wrap { overflow-x: auto; border-radius: 14px; }
.table {
  width: 100%;
  border-collapse: collapse;
  min-width: 760px;
}
.table th, .table td {
  text-align: left;
  padding: 12px 10px;
  border-bottom: 1px solid rgba(255,255,255,0.10);
  font-size: 12px;
}
.table th { color: rgba(255,255,255,0.78); font-weight: 800; }
.table td { color: rgba(255,255,255,0.74); }

/* Footer */
.footer { padding: 18px 0 26px; }
.footer__inner {
  display: flex;
  justify-content: space-between;
  gap: 14px;
  flex-wrap: wrap;
  border-top: 1px solid rgba(255,255,255,0.10);
  padding-top: 14px;
}

/* Loading overlay */
.loading {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.55);
  display: grid;
  place-items: center;
  z-index: 9999;
}
.loading__card {
  width: min(420px, calc(100% - 36px));
  background: rgba(10, 12, 18, 0.92);
  border: 1px solid rgba(255,255,255,0.12);
  border-radius: 18px;
  padding: 20px;
  text-align: center;
  backdrop-filter: blur(16px);
}
.spinner {
  width: 26px;
  height: 26px;
  border: 3px solid rgba(255,255,255,0.18);
  border-top-color: rgba(0,255,170,0.95);
  border-radius: 999px;
  margin: 0 auto 12px;
  animation: spin 1s linear infinite;
}
@keyframes spin { to { transform: rotate(360deg); } }
.loading__text { color: rgba(255,255,255,0.86); font-weight: 800; }

/* Responsive: MOBILE STACKING (fixes your “bad layout” issue) */
@media (max-width: 980px) {
  .container { width: min(var(--max), calc(100% - 28px)); }

  .topbar__inner { flex-wrap: wrap; }
  .brand { min-width: 0; }

  .dashboard-grid {
    grid-template-columns: 1fr;
    grid-template-areas:
      "kpi1"
      "kpi2"
      "kpi3"
      "kpi4"
      "pool1"
      "pool2"
      "image"
      "wallet"
      "swap"
      "send"
      "hist";
  }

  .imageWrap { min-height: 260px; }

  /* table scrolling on mobile */
  .table { min-width: 520px; }
}
